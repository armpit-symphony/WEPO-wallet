@echo off
title WEPO Desktop Wallet
cls

echo.
echo  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
echo  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
echo  â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
echo  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
echo  â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
echo   â•šâ•â•â•â•šâ•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•      â•šâ•â•â•â•â•â• 
echo.
echo        Desktop Wallet v1.0.0
echo      Christmas Day 2025 Launch Ready
echo.

REM Check if Node.js is installed
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ Node.js is not installed!
    echo Please install Node.js from https://nodejs.org/
    echo.
    pause
    exit /b 1
)

REM Install dependencies if needed
if not exist node_modules (
    echo ğŸ“¦ Installing dependencies...
    call npm install
    if %errorlevel% neq 0 (
        echo âŒ Failed to install dependencies
        pause
        exit /b 1
    )
)

REM Install frontend dependencies if needed
if not exist src\frontend\node_modules (
    echo ğŸ“¦ Installing frontend dependencies...
    cd src\frontend
    call npm install
    cd ..\..
    if %errorlevel% neq 0 (
        echo âŒ Failed to install frontend dependencies
        pause
        exit /b 1
    )
)

echo.
echo ğŸš€ Launching WEPO Desktop Wallet...
echo.

REM Start the wallet
call npm start

if %errorlevel% neq 0 (
    echo.
    echo âŒ Failed to start WEPO Desktop Wallet
    echo Please check the error messages above.
    echo.
    pause
)

exit /b %errorlevel%